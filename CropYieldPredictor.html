<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AgroVista - Crop Prediction Tool</title>
   <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="style2.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Pacifico&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <h1>🌾 AgroVista - Crop Prediction Tool</h1>

    <!-- Prediction Form -->
        <form action="/predict" method="post" id="prediction-form">

      <div class="form-group">
        <label for="soil-type">Soil Type</label>
        <select name="soil_type" id="soil_type" required>
                {% for soil in soil_types %}
                <option value="{{ soil }}">{{ soil }}</option>
                {% endfor %}
            </select>
      </div>

      <div class="form-group">
        <label for="ph-rate">pH Rate</label>
        <input type="number" step="0.01" name="ph" id="ph-rate" placeholder="Enter pH rate" required>
      </div>

      <div class="form-group">
        <label for="nitrogen">Nitrogen</label>
        <input type="number" name="nitrogen" id="nitrogen" placeholder="Enter nitrogen level" required>
      </div>

      <div class="form-group">
        <label for="phosphorus">Phosphorus</label>
        <input type="number" name="phosphorus" id="phosphorus" placeholder="Enter phosphorus level" required>
      </div>

      <div class="form-group">
        <label for="potassium">Potassium</label>
        <input type="number" name="potassium" id="potassium" placeholder="Enter potassium level" required>
      </div>

      <div class="form-group">
        <label for="temperature">Temperature (°C)</label>
        <input type="number" name="temperature" id="temperature" placeholder="Enter temperature" required>
      </div>

      <div class="form-group">
        <label for="humidity">Humidity (%)</label>
        <input type="number" name="humidity" id="humidity" placeholder="Enter humidity level" required>
      </div>

      <div class="form-group">
        <label for="rainfall">Rainfall (mm)</label>
        <input type="number" name="rainfall" id="rainfall" placeholder="Enter rainfall level" required>
      </div>

      <div class="form-group">
        <label for="climate">Climate:</label>
        <select name="climate" id="climate" required>
            {% for climate in climate_types %}
            <option value="{{ climate }}">{{ climate }}</option>
            {% endfor %}
        </select>
      </div>

      <button type="submit" class="predict-button">Predict</button>
    </form>
  </div>
  <script>
    // Form Validation
    const form = document.querySelector('form');
    const inputs = form.querySelectorAll('input');
    const predictButton = document.querySelector('.predict-button');
    const loadingSpinner = document.createElement('div');
    loadingSpinner.classList.add('loading-spinner');
    loadingSpinner.innerHTML = "⏳ Predicting...";
  
    // Function to check if all inputs are valid
    function validateForm() {
      let isValid = true;
      inputs.forEach(input => {
        if (!input.value.trim()) {
          input.style.borderColor = '#e74c3c'; // Red border for invalid input
          isValid = false;
        } else {
          input.style.borderColor = '#8b5e3c'; // Earthy Brown border for valid input
        }
      });
      return isValid;
    }
  
    // Add event listener to form submit
    form.addEventListener('submit', (event) => {
      event.preventDefault(); // Prevent form submission
      if (validateForm()) {
        showLoading();
        simulatePrediction();
      } else {
        alert('Please fill all fields correctly!');
      }
    });
  
    // Show loading spinner
    function showLoading() {
      form.appendChild(loadingSpinner);
      predictButton.disabled = true; // Disable button during loading
    }
  
    // Simulate prediction processing (you can replace this with actual data logic)
    function simulatePrediction() {
      setTimeout(() => {
        loadingSpinner.innerHTML = "✅ Prediction Complete!";
        predictButton.disabled = false;
        setTimeout(() => {
          loadingSpinner.remove();
        }, 2000);
      }, 3000); // Simulate a 3-second processing time
    }
  
    // Button click effect for dynamic feedback
    predictButton.addEventListener('click', () => {
      predictButton.style.transform = 'scale(0.95)';
      setTimeout(() => {
        predictButton.style.transform = 'scale(1)';
      }, 150);
    });
  </script>
  
</body>
</html>